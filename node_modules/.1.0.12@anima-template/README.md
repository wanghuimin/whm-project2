# template

---

移动端模板引擎

---

## 实时编译

### 使用

````js
seajs.use('template', function(aTpl){

	aTpl(str, data);

	aTpl.compile(str).render(data);

	//aTpl(str)等同于aTpl.compile(str)
	//aTpl(str, data) 等同于 aTpl.compile(str).render(data)

})
````

### str `string`

模板id或原始模板字符串

````js

//左分割符为<%， 右分隔符为%>，暂不支持自定义
var str = 'I am <%=name%>';
//模板内支持JS逻辑,**不要在逻辑中声明out变量，内部使用**
var tpl =
		'<% if(name){ %>'+
			'I am <%=name%>' +
		'<% }else{ %>'+
			'Hello world !'+
		'<% } %>';

````

### data `object`

数据源

## 预编译

### **不要在模板函数中使用非数据源上的属性**

### 安装

```bash
$ npm install anima-template -g
```
#### 使用

```bash
$ atpl -o ./ template.tpl
```
### 参数说明

1. `atpl` 执行命令
2. `-o` `--outputdir` 输出文件夹（可选），默认是`./build`
3. `-v` `--version` 版本号
4. `-h` `--help` 帮助文档
5. `template.tpl` 原始模板文件（必选），支持`*.tpl`通配

### 模块使用

````js

var tpl = require('anima-template');

//str为模板字符串，result预编译后的结果
result = tpl(str)

````

### 应用

````js
//template.js为预编译后的文件
var tpl = require('template.js');

//tpl为编译后的函数，可直接使用
tpl(data)

````
